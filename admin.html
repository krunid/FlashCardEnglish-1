<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin - ‡πÅ‡∏ü‡∏•‡∏ä‡∏Å‡∏≤‡∏£‡πå‡∏î</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>üìã ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</h2>
  <input type="text" id="word" placeholder="‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå (‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)">
  <input type="text" id="meaning" placeholder="‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏• (‡πÑ‡∏ó‡∏¢)">
  <input type="url" id="image" placeholder="URL ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö">
  <button onclick="addWord()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</button>

  <div class="word-list" id="word-list">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>

  <script src="script.js"></script>
  <script>
    loadWordList();

    async function addWord() {
      const word = document.getElementById('word').value;
      const meaning = document.getElementById('meaning').value;
      const image = document.getElementById('image').value;

      if (!word || !meaning || !image) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");

      await fetch(SHEET_URL, {
        method: 'POST',
        body: JSON.stringify({ word, meaning, image }),
        headers: { 'Content-Type': 'application/json' }
      });

      document.getElementById('word').value = '';
      document.getElementById('meaning').value = '';
      document.getElementById('image').value = '';
      loadWordList();
    }

    async function deleteWord(word) {
      await fetch(`${SHEET_URL}?word=${encodeURIComponent(word)}`, { method: 'DELETE' });
      loadWordList();
    }

    async function loadWordList() {
      const res = await fetch(SHEET_URL);
      const data = await res.json();
      const container = document.getElementById('word-list');
      container.innerHTML = '';
      data.forEach(item => {
        container.innerHTML += `
          <div class="word-item">
            <div>
              <strong>${item.word}</strong><br><small>${item.meaning}</small>
            </div>
            <button onclick="deleteWord('${item.word}')">üóë ‡∏•‡∏ö</button>
          </div>
        `;
      });
    }
  </script>
</body>
</html>
